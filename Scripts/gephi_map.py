import math
import csv


min_x=1000000
min_y=1000000
max_x=-1000000
max_y=-1000000

f=open("D:\Diploma\Scripts\map.csv","w")
c = csv.writer(f)
c.writerow(['id','x','y','i.size','1_x','1_y','r','s','z'])

for i in g.nodes:
	if i.x<min_x:
		min_x=i.x
	if i.x>max_x:
		max_x=i.x
	if i.y<min_y:
		min_y=i.y
	if i.y>max_y:
		max_y=i.y

for i in g.nodes:
	x=(i.x-min_x)/(max_x-min_x)
	y=(i.y-min_y)/(max_y-min_y)

	g1= 1.0/3.0
	g2= 2.0/3.0

	s=math.degrees(math.atan((y-0.5)/(x-0.5)))
	r=math.sqrt((x-0.5)*(x-0.5)+(y-0.5)*(y-0.5))
	c.writerow([i.Id.encode("utf-8"),x,y,i.size,1-x,1-y,r,s,'0.001'])

f.close()

for i in g.nodes:
	red = str(hex(i.color.getRed()))
	green = str(hex(i.color.getGreen()))
	blue = str(hex(i.color.getBlue()))

	if (len(red) == 3):
		red = "0" + red
	if (len(green) == 3):
		green = "0" + green
	if (len(blue) == 3):
		blue = "0" + blue
	i.col = str("#"+red+green+blue).replace('0x','')

for i in g.nodes:
   k=0
   for j in i.neighbors:
      k=k+math.sqrt((i.x-j.x)*(i.x-j.x)+(i.y-j.y)*(i.y-j.y))
   if k>0:
       i.dist = k
 
for i in g.nodes:
   k=len(i.neighbors)
   if i.dist>0 and k>0:
       i.dist_f=i.dist/k